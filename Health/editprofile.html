<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>Health and Finances</title>
    <link rel="stylesheet" href="settings4.css">
</head>
<body>
    <main class="content">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <ul class="navbar">
            <div class="search-box">
                <img src="search-icon-png-1.png">
                <input type="text" placeholder="Search posts">
            </div>

            <li id="profile-menu">
                <a href="javascript:void(0)" onclick="togglePopup(event, 'profile-menu')"><span>üë§</span></a>
                <div class="popup-menu" id="profile-menu-popup">
                    <a href="index.html">–ü—Ä–æ—Ñ–∏–ª</a>
                    <a href="editprofile.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
                   
                </div>
            </li>
            <li id="calendar-menu">
                    <a href="calendar.html"><span>üìñ</span>
                    </li>
    
            <li>
                <a href="javascript:void(0)" onclick="togglePopup(event, 'notifications-menu')"><span>üåç</span></a>
                <div class="popup-menu" id="notifications-menu-popup">
                    <a href="#">–ò–∑–≤–µ—Å—Ç–∏—è</a>
                </div>
            </li>

            <li>
                <a href="javascript:void(0)" onclick="togglePopup(event, 'favorites-menu')"><span>‚≠ê</span></a>
                <div class="popup-menu" id="favorites-menu-popup">
                    <a href="#">–ó–∞–ø–∏—Å–∞–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</a>
                </div>
            </li>
        </ul>

        <main class="content">
            <h1 class="settings-title">‚öôÔ∏è–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
       
          
            <div class="settings-container">
                <h2> –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–∞</h2>
                <p>–î–æ–±–∞–≤–µ—Ç–µ —Å–Ω–∏–º–∫–∞, —Ç—è —â–µ –±—ä–¥–µ –≤–∏–¥–∏–º–∞ –æ—Ç –≤—Å–∏—á–∫–∏</p>
            
                <div class="container">
                   
                     <div class = "menu">

                        <div class="account-section">
                            <a href="accountsettings2.html">
                                <button>–ê–∫–∞—É–Ω—Ç</button>
                            </a>
                        </div>
                        
                        <div class="profile-section">
                            <a href="editprofile.html">
                                <button>–ü—Ä–æ—Ñ–∏–ª</button>
                            </a>
                        </div>
                        
                 
                    </div>
             

           
           
              
                 <div class="profile-image">
                    <div class="settings">
                      <a href="#" class="item">
                        <div class="image-wrapper" onclick="triggerImageInput()">
                         
                          <img id="profilePic" src="1000_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg" alt="profile image">
                          
                         
                          <div class="overlay" id="overlay">
                            <button type="button" class="remove-button" id="overlayButton" onclick="handleOverlayClick(event)">–î–æ–±–∞–≤–∏</button>
                          </div>
                        </div>
                      </a>
                  
                  
                        </a>
                        <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="previewImage(event)">
            
          
          <div class="profile">
            <div class="name-label">
                <h4>Jo Nicholson</h4>
             
            <span class="profile"></span>
            <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="previewImage(event)">
     
               

                 
                 <div class= "vertical"></div>

                 <button type="button" class="submit-button" onclick="saveAndShowResult()">–ó–∞–ø–∞–∑–∏</button>
             <aside class="right-sidebar">
          </div>
     

            </div>
        </main>
        
            
                
            </div>
            
            
        </main>
        
  
    








    <script>

function togglePopup(event, popupId) {
            event.stopPropagation();
            let popup = document.getElementById(popupId + '-popup');
            popup.style.display = (popup.style.display === "block") ? "none" : "block";
        }

        document.addEventListener("click", function(event) {
            let popups = document.querySelectorAll('.popup-menu');
            popups.forEach(popup => {
                if (!popup.contains(event.target) && popup.style.display === "block") {
                    popup.style.display = "none";
                }
            });
        });













const defaultImage = "1000_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg";


function triggerImageInput() {
    document.getElementById("imageInput").click();
}


function previewImage(event) {
    const input = event.target;
    const reader = new FileReader();

    reader.onload = function () {
        document.getElementById("profilePic").src = reader.result;
        showOverlay("–ü—Ä–µ–º–∞—Ö–Ω–∏");
    };

    if (input.files && input.files[0]) {
        reader.readAsDataURL(input.files[0]);
    }
}


function handleOverlayClick(event) {
    event.stopPropagation(); 

    const currentSrc = document.getElementById("profilePic").src;
    if (currentSrc.includes(defaultImage)) {
        triggerImageInput(); 
    } else {
        removeImage(event);  
    }
}

function removeImage(event) {
    event.stopPropagation();
    document.getElementById("profilePic").src = defaultImage;
    document.getElementById("imageInput").value = "";
    showOverlay("–î–æ–±–∞–≤–∏");
}


function showOverlay(text) {
    const overlay = document.getElementById("overlay");
    const btn = document.getElementById("overlayButton");
    overlay.style.display = "block";
    btn.textContent = text;
}


window.onload = function () {
    const currentSrc = document.getElementById("profilePic").src;
    const isDefault = currentSrc.includes(defaultImage);
    showOverlay(isDefault ? "–î–æ–±–∞–≤–∏" : "–ü—Ä–µ–º–∞—Ö–Ω–∏");
};


function saveAndShowResult() {
            alert("–£—Å–ø–µ—à–Ω–æ –∑–∞–ø–∞–∑–µ–Ω–æ!"); 
        }
</script>
</body>
</html>

